<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Mini Minecraft 3D</title>
<style>
  body { margin: 0; overflow: hidden; }
  canvas { display: block; }
</style>
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/PointerLockControls.js"></script>

<script>
// === Configuração da cena ===
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x87ceeb); // céu azul
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// === Luz ===
const light = new THREE.DirectionalLight(0xffffff, 1);
light.position.set(10, 20, 10);
scene.add(light);

// === Controle do jogador ===
const controls = new THREE.PointerLockControls(camera, document.body);
document.body.addEventListener('click', () => controls.lock());

// === Blocos ===
const blockSize = 1;
const blocks = [];
const blockMaterial = new THREE.MeshStandardMaterial({color: 0x8B4513});
for(let x=-5;x<=5;x++){
  for(let z=-5;z<=5;z++){
    const geometry = new THREE.BoxGeometry(blockSize, blockSize, blockSize);
    const cube = new THREE.Mesh(geometry, blockMaterial);
    cube.position.set(x,0,z);
    scene.add(cube);
    blocks.push(cube);
  }
}

// === Controles básicos WASD ===
const move = {forward:0,back:0,left:0,right:0};
document.addEventListener('keydown', e=>{
  if(e.code=='KeyW') move.forward=1;
  if(e.code=='KeyS') move.back=1;
  if(e.code=='KeyA') move.left=1;
  if(e.code=='KeyD') move.right=1;
});
document.addEventListener('keyup', e=>{
  if(e.code=='KeyW') move.forward=0;
  if(e.code=='KeyS') move.back=0;
  if(e.code=='KeyA') move.left=0;
  if(e.code=='KeyD') move.right=0;
});

// === Loop de animação ===
const velocity = new THREE.Vector3();
function animate(){
  requestAnimationFrame(animate);

  // movimento simples
  const speed = 0.1;
  if(move.forward) controls.moveForward(speed);
  if(move.back) controls.moveForward(-speed);
  if(move.left) controls.moveRight(-speed);
  if(move.right) controls.moveRight(speed);

  renderer.render(scene, camera);
}
animate();

// === Redimensionamento ===
window.addEventListener('resize', ()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
